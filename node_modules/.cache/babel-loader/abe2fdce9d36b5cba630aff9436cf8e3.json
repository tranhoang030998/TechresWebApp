{"ast":null,"code":"import jsonp from 'jsonp';\nimport objectToGetParams from './utils/objectToGetParams';\nimport createShareCount from './hocs/createShareCount';\n\nfunction getOKShareCount(shareUrl, callback) {\n  if (!window.OK) {\n    window.OK = {\n      Share: {\n        count: function count(index, _count) {\n          window.OK.callbacks[index](_count);\n        }\n      },\n      callbacks: []\n    };\n  }\n\n  var url = 'https://connect.ok.ru/dk';\n  var index = window.OK.callbacks.length;\n  window.ODKL = {\n    updateCount: function updateCount(index, count) {\n      var callbackIndex = index === '' ? 0 : parseInt(index.replace('react-share-', ''), 10);\n      window.OK.callbacks[callbackIndex](count === '' ? undefined : parseInt(count, 10));\n    }\n  };\n  window.OK.callbacks.push(callback);\n  return jsonp(url + objectToGetParams({\n    'st.cmd': 'extLike',\n    uid: \"react-share-\" + index,\n    ref: shareUrl\n  }));\n}\n\nexport default createShareCount(getOKShareCount);","map":null,"metadata":{},"sourceType":"module"}